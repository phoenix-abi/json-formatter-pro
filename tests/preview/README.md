# Style Test Pages

This directory contains static HTML test pages for developing and testing the JSON Formatter's stylesheet (`src/style.css`) without needing to rebuild and reload the Chrome extension.

## What's Inside

- **index.html** - Index page listing all available test pages
- **[fixture-name].html** - Individual test pages for each fixture from `tests/fixtures/`

Each test page:
- Links directly to `src/style.css` (supports live-reload)
- Contains the exact DOM structure created by the extension
- Includes interactive features (collapse/expand, Raw/Parsed toggle)
- Provides a theme switcher to test light/dark/system modes

## Usage

### Generate Test Pages

Generate all fixtures:
```bash
npm run style:preview
```

Generate specific fixture(s):
```bash
npm run style:preview small__mixed
npm run style:preview small__mixed medium__flat
```

### Develop Styles

1. Open `tests/preview/index.html` in your browser
2. Select a fixture to preview
3. Edit `src/style.css` directly
4. Changes appear instantly (with IDE live-reload/preview)

### Recommended Setup

For the best development experience:

**VS Code:**
Install the [Live Server extension](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer) and right-click any test page to "Open with Live Server"

**Other IDEs:**
Most modern IDEs have similar preview features that auto-refresh on file changes.

## Features

### Interactive Testing

- **Collapse/Expand**: Click triangular expanders to test collapsed states
  - Click = toggle single item
  - Cmd/Ctrl + Click = toggle all siblings

- **Raw/Parsed Toggle**: Switch between formatted and raw JSON views

- **Theme Switcher**: Test all three theme modes:
  - System (respects OS preference)
  - Light
  - Dark

### Test Different JSON Structures

The fixtures cover various JSON structures:
- `small__*` - Small datasets for quick iteration
- `medium__*` - Larger datasets for performance testing
- `*__array_*` - Array-focused structures
- `*__object_*` - Object-focused structures
- `*__mixed` - Mixed structures with arrays, objects, and primitives
- `*__deep_*` - Deeply nested structures

## How It Works

The test pages are generated by `scripts/generate-style-test-page.mjs`:

1. Reads JSON fixtures from `tests/fixtures/`
2. Recreates the extension's DOM building logic in inline JavaScript
3. Links to the actual `src/style.css` file (via relative path)
4. Generates standalone HTML files with all interactive features

The pages use the same `buildDom()` logic as the extension, ensuring the DOM structure matches exactly what users see in the extension.

## Committing Changes

These files can be committed to version control to:
- Share test pages with other developers
- Enable quick style testing without setup
- Provide visual regression testing baseline

To update after making changes to fixtures:
```bash
npm run style:preview
git add tests/preview/
```
